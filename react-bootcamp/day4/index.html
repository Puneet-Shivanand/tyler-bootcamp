<!DOCTYPE html>
<html>
<head>
  <title>First React App</title>
  <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
  <script src='https://unpkg.com/babel-standalone@6/babel.min.js'></script>
</head>
<body>
  <div id='app'></div>
  <script>
    window.API = {
      fetchPopularRepos(language = 'all') {
        const encodedURI = encodeURI(`https://api.github.com/search/repositories?q=stars:>1+language:${language}&sort=stars&order=desc&type=Repositories`)
        return fetch(encodedURI)
          .then((data) => data.json())
          .then((repos) => repos.items)
          .catch((error) => {
            console.warn(error)
            return null
          });
      }
    }
  </script>

  <script type='text/babel'>
    class Loading extends React.Component{
      constructor(props){
        super(props)
        this.state ={
          text:"loading"
        }
      }
      componentDidMount(){
        const stopper = this.state.text +'...'
        this.interval = window.setInterval(() => {
          this.state.text === stopper 
          ? this.setState({text:"loading"})
          : this.setState((currentState)=> {
            return{
                text:currentState.text + '.'
              }
            })
          }, 300)
      }
      componentWillUnmount(){
        window.clearInterval(this.interval)
      }
      render(){
        return (
        <div>
          <img src="https://media.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif" />
          <p>{this.state.text}</p>
        </div>
        )
      }
    }
    
    
    function Nav(props){
      const languages = ["all", "javascript","ruby","python"]
      return(
        <nav>
          <ul>
            {languages.map((lang)=>{
              <li key={lang} onClick={()=>{}}>
              {lang}
              </li>
            })}
          </ul>
        </nav>
      )
    }


    class App extends React.Component {
      constructor(props){
        super(props)
          this.state={
            repos:[],
            activeLanguage:"all",
            loading:true
          }
         }
      handleSelectLanguage(){
          
      }
      render() {
        return (
          <div>
           <Nav/>
          </div>
        )
      }
    }
    ReactDOM.render(
      <App />,
      document.getElementById('app')
    )
  </script>
</body>
</html>